asyncapi: "2.4.0"
x-ballerina-event-identifier:
  type : "body"
  path : "eventNotifications.dataChangeEvent."
info:
  title: QuickBook Webhooks
  version: "1.0.0"
  description: |
    Use webhooks to receive event triggered callbacks for entities that your app needs to stay on top of.
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0

defaultContentType: application/json

externalDocs:
    description: Common properties returned from Event
    url: "https://developer.intuit.com/app/developer/qbo/docs/develop/webhooks"

channels:
  app:
    subscribe:
      message:
        oneOf:
          - x-ballerina-event-type: "Account"
            externalDocs:
              description: Webhook docs
              url: "https://developer.intuit.com/app/developer/qbo/docs/develop/webhooks"
            payload:
              $ref: "#/components/schemas/quickBookEvent"
            summary: Subscribe to only the message events that mention your app
          - x-ballerina-event-type: "Bill"
            externalDocs:
              description: Webhook docs
              url: "https://developer.intuit.com/app/developer/qbo/docs/develop/webhooks"
            payload:
              $ref: "#/components/schemas/quickBookEvent"
            summary: Subscribe to only the message events that mention your app
          - x-ballerina-event-type: "Invoice"
            externalDocs:
              description: Webhook docs
              url: "https://developer.intuit.com/app/developer/qbo/docs/develop/webhooks"
            payload:
              $ref: "#/components/schemas/quickBookEvent"
            summary: Subscribe to only the message events that mention your app
          - x-ballerina-event-type: "BillPayment"
            externalDocs:
              description: Webhook docs
              url: "https://developer.intuit.com/app/developer/qbo/docs/develop/webhooks"
            payload:
              $ref: "#/components/schemas/quickBookEvent"
            summary: Subscribe to only the message events that mention your app


components:
  schemas:
    quickBookEvent:
      additionalProperties: true
      properties:
        name:
          type: string
          description: The name of the entity that changed (customer, Invoice, etc.).
        id:
          type: string
          description: The ID of the changed entity.
        operation:
          type: string
          description: The type of the change.
        lastUpdated:
          type: string
          description: The latest timestamp in UTC.
        deletedID:
          type: string
          description: The ID of the deleted or merged entity (this only applies to merge events)
